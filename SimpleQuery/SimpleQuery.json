{
    "name": "SimpleQuery",
    "description": "A simple example query that pipes a BigQuery query to Slack",

    "inputs": {
        "query": {"name": "query", "type": "static", "path": "SimpleQuery/SimpleQuery.sql"},
        "slack_room": {"name": "slack_room", "type": "constant", "default": "databot"},
        "title": {"name": "title", "type": "constant", "default": "SimpleQuery"},
        "description": {"name": "description", "type": "constant", "default": ""}
    },

    "intermediates": {
        "temp": {"type": "temporary"},
        "table": {"name": "table", "type": "bigquery_table"}
    },

    "stages": {
        "bigquery": {
            "name": "bigquery",
            "inputs": {
                "query": {"name": "query"}
            },
            "runtime": {
                "image": "stage_bigquery"
            },
            "outputs": {
                "results": {"name": "table"},
                "store": {"name": "temp"}
            }
        },
        "slack": {
            "name": "slack",
            "inputs": {
                "table": {"name": "temp"},
                "slack_room": {"name": "slack_room"},
                "slack_title": {"name": "title"},
                "slack_description": {"name": "description"}
            },
            "runtime": {
                "image": "stage_slack_output"
            }
        }
    }
}
